# Менеджер устройств УУСИ-16

## Установка MySql

Если на компьютере пользователя MySQL не установлен, необходимо распаковать содержимое архива mysql.zip в любую папку и с правами администратора запустить комадный файл *reg_service.bat*.
Выполнение этого файла приведет к регистрации службы *MySQL_Ztp*, ее инициализации и запуску.

Если на компьютере пользователя MySQL уже установлен, то можно установить собственный экземпляр MySQL, как описано выше, а возможно и использование существующего. Для этого необходимо только отредактировать файл настроек программы *setting.cfg*, изменив значение параметра *Db.ConnectionString* следующим образом:
```html
Db.ConnectionString = server=<MyServer>;port=<MyPort>;database=ztp;uid=<User>;password=<Password>
```
## Создание базы данных
Для создания базы данных следует запустить программу *ZtpModel.Creator.exe*. Все необходимые операции будут выполнены автоматически.

## Административная настройка программы
Основные параметры настройки программы располагаются в файле *setting.cfg* и определяются системным администратором.

#### Параметр Tree.MaxNodeLevel
Этот параметр определяет максимальный допустимый уровень вложенности узлов дерева (начиная с 0). На последнем уровне располагаются узлы устройств. В зависимости от требуемой иерархии объектов для конкретного пользователя, следует установить значение этого параметра **перед началом использования программы и не изменять его в дальнейшем**.

#### Параметр DeviceAccessLayer.ConcurrentQuerySize
Этот параметр определяет максимальное количество устройств, которые могут опрашиваться одновременно при выполнении пакетных операций. Диапазон значений 1-60. Значение по умолчанию: 20.

#### Параметр Db.CommandTimeout
Этот параметр определяет максимально допустимое время (в секундах) выполнения команды SQL.

#### Параметр Db.ConnectionString
Строка соединения с БД MySQL

## Импорт конфигурации устройств из EST Tools

Если устройства УУСИ-16 работают в режиме обмена информацией с EST Tools, то в реестре EST Tools уже должна быть прописана вся необходимая информация для связи с устройствами. В этом случае при создании узлов устройств их наименования и IP-адреса можно импортировать из EST Tools. Для этого необходимо в диалоге пользовательской настройки программы, на вкладке **EST Tools** указать все необходимые параметры соединения с EST Tools и при добавлении узла устройства выбрать пункт *Добавить из EST Tools*. В открывшесся диалоге определить необходимые устройства, указать пароль доступа к устройствам и нажать кнопку *OK*. В случае внесения изменений в реестр EST Tools можно выполнить команду *Обновить из EST Tools*. При выполнении этой команды программа снова свяжется с EST Tools и обновит наименования и IP-адреса по всем устройствам, которые были созданы командой *Добавить из EST Tools*.

